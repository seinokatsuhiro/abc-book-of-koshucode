# X. 関係と関数


「所属関係」[`V.k`][V.k] で、関係写像演算子 `member`
を使って集合をその内容ごとに展開できることをみました。
「甲州計算機の拡張」[`W.k`][W.k] では、
割り算を行う関係写像演算子 `divide` を定義して、
商と余りを計算できることをみました。
`member /x /xs` では、入出力関係の対応数
`/xs` : `/x` が 1 : N (N ≥ 0) になっており、
`divide /x /y /q /r` では、対応数
`/x` `/y` : `/q` `/r` が 1 : 1 または 1 : 0 になっていました。

商と余りを求める割り算は、多くの場合、
`/x` と `/y` から `/q` または `/r` を
1 : 1 で求める関数として定式化されます。
甲州計算機のなかでも `quo` と `rem` という演算子があり、
これらは、そのような関数に相当します。

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ { .koshu .input }
|== QR
  | source XY /x /y
  | keep /y <> 0
  | add  /q ( /x quo /y )
         /r ( /x rem /y )
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

通常、関数とよばれる数学的なしくみは、
引数とよばれる入力 `x` が 1 つ与えられると、
その引数に対する関数 `f` (function) の値
`y` とよばれる出力が 1 つ得られます。
これを `y = f x` や `y = f (x)` と書きます。
分野によっては、出力しないことがある関数を部分関数とよんだり、
複数の出力を許す関数を多価関数とよんだりすることがありますが、
原則として、関数は 1 つの入力に 1 つの出力が対応します。

上の商を計算する演算子 `quo` を `y = f x` に似せて書くと、
`/q = quo /x /y` のように書け、つぎのデータ解釈に相当します。

 - `/x` を `/y` で割ったときの商は `/q` である。

このデータ解釈をみたす判断 `QUO` は無数にありますが、
つぎの 6 つに限定して考えてみましょう。

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ { .koshu .input }
|-- QUO  /x 15  /y 6  /q 2
|-- QUO  /x 15  /y 5  /q 3
|-- QUO  /x 15  /y 4  /q 3
|-- QUO  /x 15  /y 3  /q 5
|-- QUO  /x 15  /y 2  /q 7
|-- QUO  /x 15  /y 1  /q 15
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

これらの判断に対して、さまざまな入出力関係をあてはめられます。
たとえば、`/x` `/y` : `q` は 1 : 1
になっているため、関数とみなせます。
しかし、`/x` : `/y` `/q` は 1 : 6 になるし、
`/q` : `/x` `/y` は 1 : 1 または 2 : 1 になります。
このように 1 : 1 に限定されない項目の組み合わせは、
項目間の関係とよばれます。
項目間に一定の関係が成り立つかどうかに関心をあてると、
自然と、入出力関係という考え方を忘れられるともいえるでしょう。
関数は、入力から出力への対応関係が
1 : 1 である制約がありますが、
その制約を除いたものが関係であり、
その意味で、関数は関係の特殊形であり、
逆にいえば、関係は関数の一般化であるとみとめられます。

判断集合は、データとみなすこともできるし、
計算の結果とみなすこともできます。
その意味で、判断は、データと計算を統合する視点をもちこみます。
情報を判断ないし関係として表現しなおすことで、
思考を整理したり、節約したりできるしくみが得られることがあります。
甲州記法の準拠する理論である関係モデルが
データの表現と計算の両方に適した体系である理由は、
このようなところにあるといえるでしょう。



[V.k]:   ../V/V.k
[W.k]:   ../W/W.k
[X.k]:   ../X/X.k

